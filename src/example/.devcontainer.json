{
  "name": "Workbench Example App",
  "dockerComposeFile": "docker-compose.yaml",
  "service": "app",
  "shutdownAction": "none",
  "workspaceFolder": "/workspace",
  // This post create command is required to set up the user environment with
  // the Workbench CLI and mount workspace resources. To add additional setup
  // commands, specify a string shell command instead.
  // "postCreateCommand": "./startupscript/post-startup.sh 'jovyan' '/home/jovyan' '${templateOption:cloud}' '${templateOption:login}' && echo 'Additional setup commands can go here.'",
  "postCreateCommand": [
    "./startupscript/post-startup.sh",
    "jovyan", // This must be the user inside the container and their home directory.
    "/home/jovyan",
    "${templateOption:cloud}",
    "${templateOption:login}"
  ],
  // Re-mount workspace resources on container start up
  "postStartCommand": [
    "./startupscript/remount-on-restart.sh",
    "jovyan",
    "/home/jovyan",
    "${templateOption:cloud}",
    "${templateOption:login}"
  ],
  "features": {
    // The below features are required for the Workbench CLI. If the image
    // already comes with these features, they can be omitted. Feel free to add
    // other devcontainer features as desired (see
    // https://containers.dev/features).
    "ghcr.io/devcontainers/features/java:1": {
      "version": "17"
    },
    "ghcr.io/devcontainers/features/aws-cli:1": {},
    "ghcr.io/dhoeric/features/google-cloud-cli:1": {}
  },
  // This is the user that will run the post create and post start commands.
  "remoteUser": "root"
}
